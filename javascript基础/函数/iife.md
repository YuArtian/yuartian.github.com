# IIFE

## 立即调用函数表达式

JavaScript 中有一个圆括号运算符，圆括号里面可以放一个表达式，比如下面的代码：

```text
(a = 3)
```

括号里面是一个表达式，整个语句也是一个表达式，最终输出 3

如果在小括号里面放上一段函数的定义，如下所示：

```text
(function () { //statements})
```

因为小括号之间存放的必须是表达式，所以如果在小括号里面定义一个函数，那么 V8 就会把这个函数看成是函数表达式，执行时它会返回一个函数对象

存放在括号里面的函数便是一个函数表达式，它会返回一个函数对象，如果我直接在表达式后面加上调用的括号，这就称为 **立即调用函数表达式（IIFE）**

```text
(function () {
    //statements
})()
```

## 作用

因为函数立即表达式也是一个表达式，所以 V8 在编译阶段，并不会为该表达式创建函数对象

这样的一个好处就是不会污染环境，函数和函数内部的变量都不会被其他部分的代码访问到

在 ES6 之前，JavaScript 中没有私有作用域的概念，如果在多人开发的项目中，你模块中的变量可能覆盖掉别人的变量，所以使用函数立即表达式就可以将我们内部变量封装起来，避免了相互之间的变量污染

另外，因为函数立即表达式是立即执行的，所以将一个函数立即表达式赋给一个变量时，不是存储 IIFE 本身，而是存储 IIFE 执行后返回的结果。如下所示：

```text
var a = (function () {
    return 1
})()
```



